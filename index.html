<!DOCTYPE html>
<html>
  <head> </head>
  <body>
    <script>
      function computerPlay() {
        let rps = ["rock", "paper", "scissors"];
        return rps[Math.floor(Math.random() * rps.length)];
      }

      function playRound(playerSelection, computerSelection) {
        if (
          playerSelection.toLowerCase() === "rock" &&
          computerSelection === "scissors"
        ) {
          return "You win! Rock beats scissors.";
        } else if (
          playerSelection.toLowerCase() === "paper" &&
          computerSelection === "rock"
        ) {
          return "You win! Paper beats rock.";
        } else if (
          playerSelection.toLowerCase() === "scissors" &&
          computerSelection === "paper"
        ) {
          return "You win! Scissors beats paper.";
        } else if (
          playerSelection.toLowerCase() === "rock" &&
          computerSelection === "paper"
        ) {
          return "You lost! Paper beats rock.";
        } else if (
          playerSelection.toLowerCase() === "paper" &&
          computerSelection === "scissors"
        ) {
          return "You lost! Scissors beats paper.";
        } else if (
          playerSelection.toLowerCase() === "scissors" &&
          computerSelection === "rock"
        ) {
          return "You lost! Rock beats scissors.";
        } else if (playerSelection.toLowerCase() === computerSelection) {
          return "Draw!";
        }
      }

      let playerScore = 0;
      let computerScore = 0;

      function score(playerSelection, computerSelection) {
        if (
          (playerSelection.toLowerCase() === "rock" &&
            computerSelection === "scissors") ||
          (playerSelection.toLowerCase() === "paper" &&
            computerSelection === "rock") ||
          (playerSelection.toLowerCase() === "scissors" &&
            computerSelection === "paper")
        ) {
          playerScore++;
        } else if (
          (playerSelection.toLowerCase() === "rock" &&
            computerSelection === "paper") ||
          (playerSelection.toLowerCase() === "paper" &&
            computerSelection === "scissors") ||
          (playerSelection.toLowerCase() === "scissors" &&
            computerSelection === "rock")
        ) {
          computerScore++;
        }

        return `Player score: ${playerScore}. Computer score: ${computerScore}`;
      }

      function winner(playerScore, computerScore) {
        if (playerScore > computerScore) {
          return `Congrats, you won best out of 5!`;
        } else if (computerScore > playerScore) {
          return `Game over, you lost.`;
        } else if (playerScore == computerScore) {
          return `Game over, you tied.`;
        }
      }

      function game() {
        for (i = 0; i < 5; i++) {
          let playerSelection = prompt("RPS", "");
          let computerSelection = computerPlay();
          console.log(playRound(playerSelection, computerSelection));
          console.log(score(playerSelection, computerSelection));
        }
        return winner(playerScore, computerScore);
      }

      console.log(game());
    </script>
  </body>
</html>
